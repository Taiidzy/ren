---
title: Управление чатами
description: Создание, управление и настройка чатов
sidebar_position: 3
---

# Управление чатами

## Типы чатов

| Тип | Описание | Участники | E2EE |
|-----|----------|-----------|------|
| **Приватный** | Диалог 1-на-1 | 2 | ✅ |
| **Группа** | Групповой чат | 2+ | ❌ |
| **Канал** | Вещательный чат | 2+ | ❌ |

## Создание чата

### Приватный чат

Приватные чаты создаются автоматически при первом сообщении пользователю.

1. Найдите пользователя через поиск
2. Откройте чат
3. Отправьте сообщение

Чат создаётся по канонической паре `user_a <= user_b` (уникальный индекс).

### Группа

1. Нажмите **+** в списке чатов
2. Выберите **Создать группу**
3. Введите название (обязательно)
4. Выберите участников
5. Нажмите **Создать**

Создатель получает роль `owner`.

### Канал

1. Нажмите **+** в списке чатов
2. Выберите **Создать канал**
3. Введите название (обязательно)
4. Выберите участников
5. Нажмите **Создать**

Создатель получает роль `owner`. Только owner и admin могут публиковать сообщения.

## Роли в чатах

| Роль | Группа | Канал | Права |
|------|--------|-------|-------|
| **Owner** | ✅ | ✅ | Все права, нельзя удалить |
| **Admin** | ✅ | ✅ | Добавление/удаление участников, изменение роли member |
| **Member** | ✅ | ✅ | Просмотр сообщений, отправка (в группах) |

## Управление участниками

### Добавить участника

1. Откройте чат
2. Нажмите на заголовок чата
3. Выберите **Участники** → **Добавить**
4. Найдите пользователя
5. Выберите роль (member/admin)
6. Нажмите **Добавить**

> Требуется роль admin или owner.

### Изменить роль

1. Откройте **Участники**
2. Нажмите на участника
3. Выберите новую роль
4. Нажмите **Сохранить**

> Нельзя изменить роль owner. Требуется роль admin или owner.

### Удалить участника

1. Откройте **Участники**
2. Нажмите на участника
3. Выберите **Удалить**
4. Подтвердите

> Нельзя удалить owner. Требуется роль admin или owner.

## Выход из чата

### Группа/Канал

1. Нажмите и удерживайте чат в списке
2. Выберите **Выйти**
3. Подтвердите

> Owner не может выйти (должен передать права или удалить чат).

### Приватный чат

1. Нажмите и удерживайте чат
2. Выберите **Удалить чат**
3. Выберите:
   - **Выйти** — удалить только своё участие
   - **Удалить для всех** — удалить чат целиком

## Изменение информации о чате

### Название (группа/канал)

1. Откройте чат
2. Нажмите на заголовок
3. Выберите **Редактировать**
4. Измените название
5. Нажмите **Сохранить**

> Требуется роль owner.

### Аватар чата

1. Откройте чат
2. Нажмите на аватар
3. Выберите изображение
4. Обрежьте и подтвердите

> Требуется роль owner.

### Удалить аватар

1. Откройте чат
2. Нажмите на аватар
3. Выберите **Удалить**

> Требуется роль owner.

## Избранные чаты

Добавление в избранное для быстрого доступа:

1. Нажмите и удерживайте чат
2. Выберите **В избранное**
3. Чат появится вверху списка

## Уведомления

### Настройка уведомлений чата

1. Откройте чат
2. Нажмите на заголовок
3. Выберите **Уведомления**
4. Настройте:
   - **Звук** — вкл/выкл
   - **Вибрация** — вкл/выкл
   - **Важность** — высокий/средний/низкий приоритет

### Глобальные настройки

Настройки → Уведомления:
- **Haptic при новых сообщениях**
- **In-app баннеры**
- **In-app звук**

## Архивация чатов

> TODO: Реализовать архивацию чатов

## Удаление чата

### Владелец (группа/канал)

1. Нажмите и удерживайте чат
2. Выберите **Удалить чат для всех**
3. Подтвердите

Чат удаляется полностью у всех участников.

### Приватный чат

1. Нажмите и удерживайте чат
2. Выберите **Удалить чат**
3. Выберите:
   - **Выйти** — чат остаётся у собеседника
   - **Удалить для всех** — чат удаляется у обоих

## Проблемы и решения

### Не могу добавить участника

**Причина:** Недостаточно прав.

**Решение:** Требуется роль admin или owner.

### Не могу выйти из чата

**Причина:** Вы owner.

**Решение:** Назначьте нового owner или удалите чат.

### Чат не отображается в списке

**Причина:** Чат заархивирован или вы вышли.

**Решение:** Проверьте архив или создайте чат заново.
